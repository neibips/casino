(this.webpackJsonpcasinoroyale=this.webpackJsonpcasinoroyale||[]).push([[0],{119:function(e){e.exports=JSON.parse('{"navigations":[{"name":"HOME","url":"/"},{"name":"CRASH","url":"/crash"},{"name":"STAT","url":"/soon"}]}')},206:function(e,t,c){},222:function(e,t){},223:function(e,t){},237:function(e,t){},238:function(e,t){},265:function(e,t){},267:function(e,t){},279:function(e,t){},281:function(e,t){},306:function(e,t){},308:function(e,t){},314:function(e,t){},326:function(e,t){},329:function(e,t){},341:function(e,t){},342:function(e,t){},344:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(183),s=c.n(n),l=(c(205),c(206),c(343),c(207),c(208),c(7)),i=c(81),o=c(119),r=c.p+"static/media/solana.64b7d544.png",b=c(1);var j=e=>{let{parentClass:t,children:c}=e;return Object(b.jsx)("div",{className:t+"_container",children:Object(b.jsx)("div",{className:"page_container",children:Object(b.jsx)("div",{className:"container-fluid",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-11 col-md-12 mx-auto",children:c})})})})})},d=c(45),m=c(185),u=c(121),h=c(82);const p=Object(a.createContext)((()=>0));function O(e){let{children:t}=e;const[c,n]=Object(a.useState)(0);return Object(b.jsx)(p.Provider,{value:{balance:c,updateBalance:e=>{n(e)}},children:t})}var x=p;c(86);const f="https://tinyinvader.herokuapp.com/";let v;var g=e=>{let{isOpen:t,OnClick:c}=e;const{publicKey:n}=Object(m.b)(),{balance:s,updateBalance:o}=Object(a.useContext)(x);console.log(s),Object(a.useEffect)((()=>{v=Object(i.a)(f),v.on("update balance",(e=>{console.log("aaaaa"),o(e)}))}),[]);const[p,O]=Object(a.useState)(0);Object(a.useEffect)((()=>{n&&g()}),[n]);Object(l.e)();const g=Object(a.useCallback)((async()=>{if(!n)throw new u.f;(async()=>{const e=n.toString();await fetch(f,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({amount:0,walletAdress:e})})})().then((()=>{v.emit("request balance",n.toBase58())}))}),[n]),[w,y]=Object(a.useState)("Connect");return Object(b.jsx)(j,{parentClass:"header",children:Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(b.jsx)("div",{children:Object(b.jsx)(d.b,{className:"text-decoration-none text-white pointer",to:"/",smooth:!0,duration:600,spy:!0,offset:-800,children:Object(b.jsx)("h3",{className:"bigName mb-0",children:"Tiny Invaders casino"})})}),Object(b.jsxs)("div",{className:"placeForBalance right_btn mx-0",children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:r,className:"mx-1",alt:"",style:{width:"35px",height:"35px"}})}),Object(b.jsxs)("div",{className:"balanceWrapper",children:[Object(b.jsx)("p",{className:"balanceText",children:s.toFixed(5)}),Object(b.jsx)("p",{className:"coinText",children:"SOL"})]})]}),Object(b.jsx)("div",{className:"right_btn",children:Object(b.jsx)(h.b,{})}),Object(b.jsx)("div",{className:"d-block d-md-none",children:t&&Object(b.jsx)("svg",{onClick:c,stroke:"#fff",fill:"#fff","stroke-width":"0",viewBox:"0 0 352 512",height:"2.5em",width:"2.5em",xmlns:"http://www.w3.org/2000/svg",children:Object(b.jsx)("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})})||Object(b.jsx)("svg",{onClick:c,stroke:"#fff",fill:"#fff","stroke-width":"0",viewBox:"0 0 512 512",height:"2.5em",width:"2.5em",xmlns:"http://www.w3.org/2000/svg",children:Object(b.jsx)("path",{d:"M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z"})})})]})})};c(211),c.p,c.p,c.p;var w=e=>{let{isOpen:t,OnClick:c}=e;const a=Object(l.e)();return Object(b.jsx)("div",{onClick:c,style:{opacity:"".concat(t?"1":"0"),top:"".concat(t?"0%":"-100%")},className:"SideBarContainer",children:Object(b.jsx)("ul",{children:o.navigations.map(((e,t)=>Object(b.jsx)("li",{className:"fw600 text-white f28 pointer",children:Object(b.jsx)(d.b,{to:e.url,className:"".concat(a.pathname===e.url&&"fw-bold"," text-decoration-none text-white pointer"),children:e.name})},t)))})})};var y=e=>{let{children:t,variable:c,setVariable:n}=e;const[s,l]=Object(a.useState)(!1),i=()=>{l(!s)};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(g,{OnClick:i,isOpen:s,variable:c,setVariable:n}),Object(b.jsx)(w,{OnClick:i,isOpen:s}),Object(b.jsx)("div",{className:"header_bottom"}),t]})},N=(c.p,c.p,c.p+"static/media/cross.e3309d08.svg");var S=e=>{let{children:t,popup:c,setPopup:a}=e;if(c)return Object(b.jsx)("div",{className:"popup-container",children:Object(b.jsxs)("div",{className:"popup-inner",children:[Object(b.jsx)("img",{onClick:()=>a(!1),className:"cross",src:N,alt:""}),t]})})};var k=c(76),C=c(190),A=c(77),T=c(4),P=c(78),B=c.n(P),F=c(10);c(138);c(361),c(191);c(86);c(261);var E=c(192);c(26),c(262);var L=function(e){let{chartData:t,chartOptions:c}=e;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{children:Object(b.jsx)(E.a,{type:"line",data:t,options:c})})})};const M="https://tinyinvader.herokuapp.com/";let D;var _=()=>{const{connection:e}=Object(C.b)(),{publicKey:t,sendTransaction:c}=Object(m.b)(),n=Object(a.useMemo)((()=>null===t||void 0===t?void 0:t.toBase58()),[t]),[s,l]=Object(a.useState)(0),[o,r]=Object(a.useState)(0),[d,h]=Object(a.useState)(0),[p,O]=Object(a.useState)("white"),[f,v]=Object(a.useState)(0),[g,w]=Object(a.useState)(!0),[N,P]=Object(a.useState)("waiting for game..."),[E,_]=Object(a.useState)(!0),[H,R]=Object(a.useState)(!1),[K,W]=Object(a.useState)(!1),[I,V]=Object(a.useState)({datasets:[]}),[z,J]=Object(a.useState)({}),[Y,U]=Object(a.useState)(.001),[q,Q]=Object(a.useState)(!1),[X,G]=Object(a.useState)(!1),[Z,$]=Object(a.useState)([{finalFactor:1}]);let ee=!1;const{balance:te,updateBalance:ce}=Object(a.useContext)(x);let ae,ne,se=0;const le=[];Object(a.useEffect)((()=>{ae=document.querySelector("#canvas"),ne=ae.getContext("2d"),ne.strokeStyle="red",ne.lineWidth=5}),[]),Object(a.useEffect)((()=>{D=Object(i.a)(M),D.on("connection",(()=>_(!0))),D.on("chat message",(function(e){const t=document.getElementById("messages");var c=document.createElement("li");c.classList.add("colorMain"),c.textContent=e.wallet.slice(0,4)+"..."+e.wallet.slice(-4)+": "+e.text,t.appendChild(c)})),D.on("timer",(e=>{ee||oe(e)})),D.on("game",(e=>{re(e.start,e.speed)})),D.on("getUserAccount",(e=>{void 0!==e.bid&&R(!0)})),D.on("final factor",(e=>{se=e})),D.on("bid accepted",(e=>{R(!0);Object(F.b)(e)})),D.on("bid error",(e=>{Object(F.b)(e)})),D.on("winwin",(e=>{Object(F.b)("You win ")})),D.on("update balance",(e=>{ce(e)})),D.on("update balance2",(e=>{ce(e)})),D.on("update balance1",(e=>{ce(e)})),D.on("last games",(e=>{$(e)}))}),[]),Object(a.useEffect)((()=>(window.addEventListener("focus",ie),()=>{window.removeEventListener("focus",(()=>console.log()))})),[]);const ie=()=>{D.emit("updateWindow","window updated")},oe=e=>{D.on("update timer",(t=>{e=t})),ee=!0,w(!1),W(!1);const t=setInterval((()=>{e>0?h((e-=.1).toFixed(1)):(clearInterval(t),e=10,w(!0),re(1,1),P("take"))}),100)},re=(e,t)=>{D.on("update game",(c=>{console.log("game updated"),e=c.start,t=c.speed}));ne.beginPath(),W(!0);const c=setInterval((()=>{0===se?(e+=.01*t,t+=.01,ne.fillRect(80*e,300-Math.pow(3*e,2),4,4),r(e.toFixed(2)),ne.fillStyle="white"):(clearInterval(c),w(!1),W(!1),r(se.toFixed(2)),O("red"),R(!1),D.emit("get games","get"),setTimeout((()=>{r(0),se=0,O("white"),ne.clearRect(0,0,500,300),oe(10)}),2e3))}),100)};Object(a.useEffect)((()=>{le.push(o),be()}),[o]);const be=()=>{V({labels:[1,2,3,4,5],datasets:[{label:"crash",data:0!==o?[1].concat(le):0,backgroundColor:"rgba(75,192,192,0.2)",borderColor:"rgba(75,192,192,1)",color:"rgba(255, 255, 255,1)",pointRadius:0,borderDash:[35,5],lineTension:.1}]}),J({events:[],maintainAspectRatio:!1,elements:{line:{tension:.1}},scales:{yAxes:{type:"linear",title:{display:!1,text:"value"},min:1,max:o>2?o:2,ticks:{color:"rgba(255, 255, 255,1)",maxTicksLimit:5,callback:function(e,t,c){if(e%.5==0)return parseFloat(e).toFixed(2)}},grid:{display:!0,color:"white"}},xAxes:{type:"linear",title:{display:!1,text:"value"},max:o>2?o:2,ticks:{color:"rgba(255, 255, 255,1)",maxTicksLimit:5,callback:function(e,t,c){if(e%1==0)return e}},grid:{display:!0,color:"white"}}},plugins:{legend:{display:!1}},animation:{x:{type:"number",easing:"linear",duration:0,from:5,delay:0},y:{type:"number",easing:"linear",duration:0,from:5,delay:0},loop:!0}})};return Object(b.jsx)(y,{children:Object(b.jsxs)(j,{parentClass:"body-crash",children:[Object(b.jsx)(S,{popup:q,setPopup:Q,children:Object(b.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=1*Y;let c;c=await fetch("".concat(M,"flip")).then((e=>e.json())),console.log(c);let a=0;if(c.map((e=>{e.wallet===n&&(a=e.balance)})),console.log(a),!(e<=a)){return(()=>Object(F.b)("Not enough on balance"))(),()=>{}}await fetch("".concat(M,"flip"),{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify({amount:-e,walletAddress:n})});(()=>Object(F.b)("Please wait. Proccessing//...//"))();const s=T.Keypair.fromSecretKey(k.decode("4YXbzB2u2L23QUAYen5bfhUofc9KTovPQNMeAbdKBBfk7HNEkSwJfGRMZkGt5FsKkejLVWxAjQ1kPhHXoetmaWYb")),l=new B.a(s),i=new T.Connection("https://api.metaplex.solana.com/"),o=new A.a(i,l,{}),r=(new T.Transaction).add(T.SystemProgram.transfer({fromPubkey:s.publicKey,toPubkey:t,lamports:e*T.LAMPORTS_PER_SOL}));await o.sendAndConfirm(r,[s]).then((()=>{Object(F.b)("Sent succesfully")}));D.emit("request balance",t.toBase58()),Q(!1);(()=>Object(F.b)("success"))()}catch(e){Q(!1),console.log(e);(()=>Object(F.b)("You cant withdraw. Sorry"))()}},children:[Object(b.jsx)("h1",{children:"Withdraw form"}),Object(b.jsxs)("div",{className:"col",children:[Object(b.jsx)("label",{htmlFor:"bet",className:"colorMain",children:"Enter Amount"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"bet",placeholder:"0.00",value:Y,onChange:e=>U(e.target.value),min:"0.0001",max:te})]}),Object(b.jsx)("button",{type:"submit",className:"w-100 active_btn fw-light text-uppercase py-2 h5 mt-4 text-white",children:"withdraw"}),Object(b.jsx)("p",{children:"dont close this window on withdraw"})]})}),Object(b.jsx)(S,{popup:X,setPopup:G,children:Object(b.jsxs)("form",{onSubmit:async a=>{if(a.preventDefault(),!t)throw new u.f;try{let a=new T.PublicKey("3rAY5AUTwaQDzoFMN6TDgH6mW9fT6bqmT8rcgzKHSjVV");const s=(new T.Transaction).add(T.SystemProgram.transfer({fromPubkey:t,toPubkey:a,lamports:Y*T.LAMPORTS_PER_SOL})),{context:{slot:l},value:{blockhash:i,lastValidBlockHeight:o}}=await e.getLatestBlockhashAndContext(),r=await c(s,e,{minContextSlot:l});await e.confirmTransaction({blockhash:i,lastValidBlockHeight:o,signature:r}),console.log("\u0411\u0430\u043b\u0430\u043d\u0441 \u0431\u0443\u0434\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d \u043d\u0430 "+1*Y),await fetch("".concat(M,"flip"),{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify({amount:1*Y,walletAddress:n})}),D.emit("request balance",t.toBase58()),G(!1);(()=>Object(F.b)("Deposited successfully. Please reload the site"))()}catch(a){G(!1);(()=>Object(F.b)(a.toString()))()}},children:[Object(b.jsx)("h1",{children:"Deposit form"}),Object(b.jsxs)("div",{className:"col",children:[Object(b.jsx)("label",{htmlFor:"bet",children:"Enter Amount"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"bet",placeholder:"0.001",value:Y,onChange:e=>U(e.target.value),min:"0.0001",max:te})]}),Object(b.jsx)("button",{type:"submit",className:"w-100 active_btn fw-light text-uppercase py-2 h5 mt-4 text-white",children:"DEPOSIT"})]})}),Object(b.jsx)(F.a,{}),Object(b.jsxs)("div",{className:"btnDpWt",children:[Object(b.jsx)("button",{className:"button-29",onClick:()=>G(!0),children:"Deposit"}),Object(b.jsx)("button",{className:"button-29",onClick:()=>Q(!0),children:"Withdraw"})]}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-12 col-lg-11 mx-auto",children:Object(b.jsxs)("div",{className:"row gy-5",children:[Object(b.jsxs)("div",{className:"col-12 col-lg-8",style:{justifyContent:"center"},children:[Object(b.jsx)("h1",{style:{color:p,textAlign:"center"},className:"textCenter my-5 mx-lg-5",children:0!==o?o+"X":d}),Object(b.jsx)("canvas",{id:"canvas",style:{position:"absolute",width:"300"},className:"crashChart"}),I?Object(b.jsx)(L,{chartData:I,chartOptions:z}):""]}),Object(b.jsxs)("div",{className:"col-12 col-lg-4",children:[Object(b.jsxs)("div",{style:{justifyContent:"center"},className:"mb-3",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-outline-primary mx-1",onClick:()=>v(1e-4),children:"min"}),Object(b.jsx)("button",{type:"button",className:"btn btn-outline-primary mx-1",onClick:()=>v(f/2),children:"1/2"}),Object(b.jsx)("button",{type:"button",className:"btn btn-outline-primary mx-1",onClick:()=>v(2*f),children:"x2"}),Object(b.jsx)("button",{type:"button",className:"btn btn-outline-primary mx-1",onClick:()=>v(te),children:"max"})]}),H?Object(b.jsx)("form",{onSubmit:async e=>{e.preventDefault(),console.log("alo"),D.emit("take",n)},children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col",children:[Object(b.jsx)("label",{htmlFor:"bet",children:"Bet"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"bet",placeholder:"0.00",value:f,onChange:e=>v(e.target.value),min:"0.0001",max:te})]}),Object(b.jsxs)("div",{className:"col",children:[Object(b.jsx)("label",{htmlFor:"Autostop",children:"Auto Stop"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"Autostop",placeholder:"1.00",disabled:"true"})]}),Object(b.jsx)("button",{type:"submit",className:"w-100 active_btn fw-light text-uppercase py-2 h5 mt-4 text-white",id:"playBtn",disabled:!K,children:N})]})}):Object(b.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),f>=1e-5&&f<=te)D.emit("new bid",{amount:f,wallet:n}),R(!1);else{(()=>Object(F.b)("Wrong amount"))()}},children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col",children:[Object(b.jsx)("label",{htmlFor:"bet",className:"colorMain",children:"Bet"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"bet",placeholder:"0.00",value:f,onChange:e=>v(e.target.value),min:"0.0001",max:te})]}),Object(b.jsxs)("div",{className:"col",children:[Object(b.jsx)("label",{htmlFor:"Autostop",className:"colorMain",children:"Auto Stop"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"Autostop",placeholder:"1.00",disabled:"true"})]}),Object(b.jsx)("button",{type:"submit",className:"w-100 active_btn fw-light text-uppercase py-2 h5 mt-4 text-white",disabled:g,id:"playBtn",children:"make a bid"})]})})]})]})})}),Object(b.jsx)("div",{className:"percent-line mt-4 mb-5",children:Z.map((e=>Object(b.jsxs)("div",{className:"g-line p-line fw-bold ChakraPetch",children:[e.finalFactor,"x"]})))}),Object(b.jsxs)("div",{className:"col-12 col-lg-8",children:[Object(b.jsx)("h1",{className:"colorMain",children:"online chat"}),Object(b.jsx)("ul",{id:"messages"}),Object(b.jsxs)("form",{id:"form",onSubmit:async e=>{if(e.preventDefault(),""===e.target[0].value){return(()=>Object(F.b)("You cant send empty string"))()}if(!t){return(()=>Object(F.b)("Connect your wallet first"))()}D.emit("chat message",{text:e.target[0].value,wallet:n}),e.target[0].value=""},children:[Object(b.jsx)("input",{id:"input",autoComplete:"off"}),Object(b.jsx)("button",{children:"Send"})]})]}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{})]})})};var H=()=>Object(b.jsx)(y,{children:Object(b.jsx)(j,{parentClass:"body-coming-soon",children:Object(b.jsx)("h1",{className:"text-center py-5 my-5 display-4",children:"Coming Soon"})})}),R=c(360),K=c(362),W=c(363),I=c(364),V=c(365),z=c(358),J=c(359),Y=c(366);c(86);var U=function(){const[e,t]=Object(a.useState)(0),c=Object(a.useMemo)((()=>[Object(W.a)(),Object(I.a)(),Object(V.a)(),Object(z.a)(),Object(J.a)(),Object(Y.a)()]),["mainnet"]);return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(R.a,{endpoint:"https://api.metaplex.solana.com/",children:Object(b.jsx)(K.a,{wallets:c,autoConnect:!0,children:Object(b.jsx)(h.a,{children:Object(b.jsx)(O,{children:Object(b.jsxs)(l.c,{children:[Object(b.jsx)(l.a,{exact:!0,path:"/",element:Object(b.jsx)(_,{})}),Object(b.jsx)(l.a,{exact:!0,path:"/soon",element:Object(b.jsx)(H,{})})]})})})})})})};s.a.createRoot(document.getElementById("root")).render(Object(b.jsx)(d.a,{children:Object(b.jsx)(U,{})}))}},[[344,1,2]]]);
//# sourceMappingURL=main.1c0a425f.chunk.js.map